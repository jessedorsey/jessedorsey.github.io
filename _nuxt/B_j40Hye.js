import{f as m,a6 as g,a7 as h,b as p,a8 as v,d as _,q as c}from"./C-c69ZSP.js";function A(t={}){var l;const e=p(""),o=p(t.politeness||"polite"),s=v();function r(n="",f="polite"){e.value=n,o.value=f}function i(n){return r(n,"polite")}function a(n){return r(n,"assertive")}function u(){var n;r((n=document==null?void 0:document.title)==null?void 0:n.trim(),o.value)}function d(){var n;(n=s==null?void 0:s.hooks)==null||n.removeHook("dom:rendered",u)}return u(),(l=s==null?void 0:s.hooks)==null||l.hook("dom:rendered",()=>{u()}),{_cleanup:d,message:e,politeness:o,set:r,polite:i,assertive:a}}function w(t={}){const e=m(),o=e._routeAnnouncer||(e._routeAnnouncer=A(t));return t.politeness!==o.politeness.value&&(o.politeness.value=t.politeness||"polite"),g()&&(e._routeAnnouncerDeps||(e._routeAnnouncerDeps=0),e._routeAnnouncerDeps++,h(()=>{e._routeAnnouncerDeps--,e._routeAnnouncerDeps===0&&(o._cleanup(),delete e._routeAnnouncer)})),o}const D=_({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(t,{slots:e,expose:o}){const{set:s,polite:r,assertive:i,message:a,politeness:u}=w({politeness:t.politeness});return o({set:s,polite:r,assertive:i,message:a,politeness:u}),()=>c("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},c("span",{role:"alert","aria-live":u.value,"aria-atomic":t.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},e.default?e.default({message:a.value}):a.value))}});export{D as default};
